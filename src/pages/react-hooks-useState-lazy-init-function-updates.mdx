---
title: "React Hooks useState"
date: "2020-08-04"
description: "useState Lazy Initialisation and Fuction Updates"
---

import AgeMe from "../components/ageCounter"

# useState

When you call useState with the initial state value, and it returns an array with the value of that state and a "state dispatch function" for updating it.

```js
// Using array destructuring useState returns the state - state and set state dispatch function - setState
const [state, setState] = useState(initialState)
```

Calling the state dispatch function triggers a re-render of the component. This causes useState to be called again which retrieves the new state value and dispatch function.

#### Setting Inital State with a function

```js
function AgeMe() {
  const [age, setAge] = useState(() => 37)
  const increment = () => setAge(previousAge => previousAge + 1)
  return <button onClick={increment}>{age}</button>
}
```

Initial state is still 37, however this time is is the result of the return of a fuction that is called.
`age` on initialisation will be 37.
`setAge` dispatch is called with a function that accepts the previous state and returns a new one.

#### Why take this approach?

<AgeMe />

```js
import React, { useState } from "react"

function Counter() {
  const [count, setCount] = useState(0)

  return (
    <div>
      <p>{count}</p>
      <button onClick={() => setCount(count + 1)}>Click me</button>
    </div>
  )
}
```
